<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrintForge</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="header.css">
    <link rel="icon" type="image/x-icon" href="picture/logo.png">
    <% if (userFound) { %>
        <p id="username" style="display:none"><%= userFound.user %></p>
        <p id="pas" style="display:none"><%= userFound.password %></p>
        <p id="email" style="display:none"><%= userFound.email %></p>
    <% } %>
</head>
<body>
    <script src="js/index.js"></script>
    <script src="js/languare.js"></script>
    <header>
        <div class="headerb2">
            <select class="headerb" id="lang" onchange="serLanguare()">
                <option selected>Deutsch</option>
                <option>Englisch</option>
            </select>
            <form class="headerb" action="modells">
                <input name="search" placeholder="Search..." type="search" value="<%= search %>">
            </form>
            <% if (userFound) { %>
                <p id="username" style="display:none"><%= userFound.username %></p>
                <p id="email" style="display:none"><%= userFound.email %></p>
                <p id="pas" style="display:none"><%= userFound.password %></p>
                <p>Hallo, <%= userFound.username %></p>
                <button onclick="logout()">Logout</button>
                <a href="cratemodell">
                    <button class="headerb">Erstellen</button>
                </a>
            <% } else { %>
                <a class="headerb" href="login">
                    <img class="aimg" src="/picture/accounnt.png" alt="">
                </a>
            <% } %>
            
            
        </div>  
        <div class="headera2">
            <a class="headera" id="home" href="/">Home</a>
            <a class="headera" id="comunity" href="comunity">Comunity</a>
            <a class="headera" id="modells" href="modells">Modells</a>
        </div>    
    </header>
    <main>
        <section>
            <h3 id="modells">Models</h3>
            <select id="filter" onchange="applyFilter()">
                <option value="newest">Neueste</option>
                <option value="oldest">√Ñlteste</option>
                <option value="likes">Meiste Likes</option>
              </select>
            <div id="model-list-2">
                <% if (nothingFound) { %>
                    <div class="not-found-message">
                      <p>Keine Modelle gefunden f√ºr "<%= search %>".</p>
                      <a href="/">Zur√ºck zur Startseite</a>
                    </div>
                  <% } %>
                <% models.forEach((model) => { %>
                    <div class="boarderb">
                        <a href="modelldet?id=<%= model.id %>" style="display: block;
                            text-decoration: none; 
                            color: inherit; ">
                            <strong>By: <%= model.userb %></strong>
                            <% if (model.pictureFiles && model.pictureFiles.length > 0) { %>
                                <img src="/models/file/<%= model.pictureFiles[0] %>" width="200" height="200"
                                     style="object-fit: contain; background-color: white;"><br>
                              <% } else { %>
                                <img src="/picture/placeholder.png" width="200" height="200"
                                     style="object-fit: contain; background-color: white;"><br>
                              <% } %><br>
                            <strong><%= model.name %></strong>
                            <form action="/like" method="get">
                                <input type="hidden" name="id" value="<%= model.id %>">
                                <input type="radio" name="like" value="on" id="like" onchange="this.form.submit()">
                                <label for="like">üëç</label>
                                <p><%= model.like %></p>
                            </form><p>10‚¨áÔ∏è</p>
                        </a>
                    </div>
                <% }); %>
                <!-- Neuste Modelle -->
              </div>
    
        </section>

    </main>
</body>
</html>